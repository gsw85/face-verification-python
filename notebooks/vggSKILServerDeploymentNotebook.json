{"paragraphs":[{"text":"%pyspark\n\nfrom keras.models import model_from_json, Sequential, Model\nfrom keras.layers import Input, Convolution2D, ZeroPadding2D, MaxPooling2D, Flatten, Dense, Dropout, Activation","user":"admin","dateUpdated":"2019-05-17T06:22:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1558073981953_-30404240","id":"20190517-061941_746492072","dateCreated":"2019-05-17T06:19:41+0000","dateStarted":"2019-05-17T06:22:39+0000","dateFinished":"2019-05-17T06:22:39+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2543"},{"text":"%pyspark\n\nimg = Input(shape=(3, 224, 224))\n\npad1_1  = ZeroPadding2D(padding=(1, 1))(img)\nconv1_1 = Convolution2D(64, 3, 3, activation='relu', name='conv1_1')(pad1_1)\npad1_2  = ZeroPadding2D(padding=(1, 1))(conv1_1)\nconv1_2 = Convolution2D(64, 3, 3, activation='relu', name='conv1_2')(pad1_2)\npool1   = MaxPooling2D((2, 2), strides=(2, 2))(conv1_2)\n\npad2_1  = ZeroPadding2D((1, 1))(pool1)\nconv2_1 = Convolution2D(128, 3, 3, activation='relu', name='conv2_1')(pad2_1)\npad2_2  = ZeroPadding2D((1, 1))(conv2_1)\nconv2_2 = Convolution2D(128, 3, 3, activation='relu', name='conv2_2')(pad2_2)\npool2   = MaxPooling2D((2, 2), strides=(2, 2))(conv2_2)\n\npad3_1  = ZeroPadding2D((1, 1))(pool2)\nconv3_1 = Convolution2D(256, 3, 3, activation='relu', name='conv3_1')(pad3_1)\npad3_2  = ZeroPadding2D((1, 1))(conv3_1)\nconv3_2 = Convolution2D(256, 3, 3, activation='relu', name='conv3_2')(pad3_2)\npad3_3  = ZeroPadding2D((1, 1))(conv3_2)\nconv3_3 = Convolution2D(256, 3, 3, activation='relu', name='conv3_3')(pad3_3)\npool3   = MaxPooling2D((2, 2), strides=(2, 2))(conv3_3)\n\npad4_1  = ZeroPadding2D((1, 1))(pool3)\nconv4_1 = Convolution2D(512, 3, 3, activation='relu', name='conv4_1')(pad4_1)\npad4_2  = ZeroPadding2D((1, 1))(conv4_1)\nconv4_2 = Convolution2D(512, 3, 3, activation='relu', name='conv4_2')(pad4_2)\npad4_3  = ZeroPadding2D((1, 1))(conv4_2)\nconv4_3 = Convolution2D(512, 3, 3, activation='relu', name='conv4_3')(pad4_3)\npool4   = MaxPooling2D((2, 2), strides=(2, 2))(conv4_3)\n\npad5_1  = ZeroPadding2D((1, 1))(pool4)\nconv5_1 = Convolution2D(512, 3, 3, activation='relu', name='conv5_1')(pad5_1)\npad5_2  = ZeroPadding2D((1, 1))(conv5_1)\nconv5_2 = Convolution2D(512, 3, 3, activation='relu', name='conv5_2')(pad5_2)\npad5_3  = ZeroPadding2D((1, 1))(conv5_2)\nconv5_3 = Convolution2D(512, 3, 3, activation='relu', name='conv5_3')(pad5_3)\npool5   = MaxPooling2D((2, 2), strides=(2, 2))(conv5_3)\n\nfc6      = Convolution2D(4096, 7, 7, activation='relu', name='fc6')(pool5)\nfc6_drop = Dropout(0.5)(fc6)\nfc7      = Convolution2D(4096, 1, 1, activation='relu', name='fc7')(fc6_drop)\nfc7_drop = Dropout(0.5)(fc7)\nfc8      = Convolution2D(2622, 1, 1, name='fc8')(fc7_drop)\nflat     = Flatten()(fc8)\nout      = Activation('softmax')(flat)\n\nself.model = Model(input=img, output=out)\nself.model.load_weights('C:\\\\Users\\\\chiaw\\\\Desktop\\\\skymind\\\\face\\\\keras\\\\faceweights\\\\vgg-face-keras.h5')\n\nself.vgg_face_descriptor = Model(inputs = self.model.layers[0].input, outputs = self.model.layers[-2].output)\n","user":"admin","dateUpdated":"2019-05-17T06:24:33+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1558074012712_-555925265","id":"20190517-062012_1384775506","dateCreated":"2019-05-17T06:20:12+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:2544"},{"text":"%pyspark\n\nfrom skil import Skil, WorkSpace, Experiment, Model, Deployment\n\nskil_server = Skil(user_id='admin', password='admin123')\nexperiment = Experiment(work_space=WorkSpace(skil_server))\nmodel_instance = Model(vgg_face_descriptor, experiment=experiment, name='vggmodel', version=1)\n\ndeployment = Deployment(skil_server, 'vgg')\nmodel_instance.deploy(deployment)\n","user":"admin","dateUpdated":"2019-05-17T06:46:53+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python"},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1558074307897_935591334","id":"20190517-062507_612459572","dateCreated":"2019-05-17T06:25:07+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:2545"}],"name":"vgg-notebook","id":"2EBRZWQA4","angularObjects":{"2EDU1U1EF:existing_process":[],"2ECZBWYXZ:existing_process":[],"2EANU31KK:existing_process":[],"2ECEXE8PY:existing_process":[],"2EAAZYKEK:existing_process":[],"2EAKUDRKH:existing_process":[],"2ECUS8BVD:existing_process":[],"2EBTX8J87:existing_process":[],"2EDSRZD18:existing_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}